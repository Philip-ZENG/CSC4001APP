{"ast":null,"code":"const axios = require('axios').default;\n\nimport { onMounted } from 'vue';\nconst ACTIVITY_INFO_URL = 'http://localhost:4000/getActivityInfo';\nexport default {\n  name: 'ActivityList',\n\n  data() {\n    return {\n      user_id: 8,\n      ACTIVITY_ID_LIST: null,\n      // Stores the package sent by the server (all the activity information of a user)\n      ACTIVITY_DATA: null,\n      title: null,\n      time: null,\n      quota_left: null,\n      state: null,\n      action: null\n    };\n  },\n\n  methods: {\n    loadActivityRecord() {\n      axios.post(ACTIVITY_INFO_URL, {\n        user_id: this.user_id\n      }).then(response => {\n        const DATA_INDEX = 1;\n        const ID_LIST_INDEX = 0;\n        this.ACTIVITY_DATA = response.data[DATA_INDEX];\n        this.ACTIVITY_ID_LIST = response.data[ID_LIST_INDEX];\n        console.log(response.data);\n        console.log(this.ACTIVITY_DATA);\n        console.log(this.ACTIVITY_ID_LIST);\n      });\n      return 'FINISH LOADING ACTIVITY RECORD';\n    },\n\n    renderActivityCard(index) {\n      console.log(this.ACTIVITY_DATA);\n      console.log(this.ACTIVITY_ID_LIST);\n      this.title = this.ACTIVITY_DATA[index].title;\n      this.time = this.ACTIVITY_DATA[index].time;\n      this.quota_left = this.ACTIVITY_DATA[index].quota_left;\n      this.state = 'ACTIVE';\n\n      if (this.state === 'ACTIVE') {\n        this.action = 'Deactivate';\n      } else {\n        this.action = 'Activate';\n      }\n    },\n\n    renderPage() {\n      const myPromise1 = function () {\n        return new Promise(function (resolve) {\n          const state = this.loadActivityRecord();\n          resolve(state);\n        });\n      };\n\n      myPromise1().then(state => {\n        console.log(state);\n        this.renderActivityCard(0);\n      });\n    }\n\n  },\n\n  setup() {\n    onMounted(() => {\n      console.log('mounted in the composition api!');\n    });\n  }\n\n};","map":{"version":3,"mappings":"AAoFA,MAAMA,KAAI,GAAIC,OAAO,CAAC,OAAD,CAAP,CAAiBC,OAA/B;;AACA,SAASC,SAAT,QAA0B,KAA1B;AAEA,MAAMC,iBAAgB,GAAI,uCAA1B;AAEA,eAAe;AACbC,MAAI,EAAE,cADO;;AAEbC,MAAI,GAAG;AACL,WAAO;AACLC,aAAO,EAAE,CADJ;AAELC,sBAAgB,EAAE,IAFb;AAGL;AACAC,mBAAa,EAAE,IAJV;AAKLC,WAAK,EAAE,IALF;AAMLC,UAAI,EAAE,IAND;AAOLC,gBAAU,EAAE,IAPP;AAQLC,WAAK,EAAE,IARF;AASLC,YAAM,EAAE;AATH,KAAP;AAWD,GAdY;;AAebC,SAAO,EAAE;AACPC,sBAAkB,GAAG;AACnBhB,WAAK,CAACiB,IAAN,CAAWb,iBAAX,EAA8B;AAAEG,eAAO,EAAE,KAAKA;AAAhB,OAA9B,EACGW,IADH,CACSC,QAAD,IAAc;AAClB,cAAMC,UAAS,GAAI,CAAnB;AACA,cAAMC,aAAY,GAAI,CAAtB;AACA,aAAKZ,aAAL,GAAqBU,QAAQ,CAACb,IAAT,CAAcc,UAAd,CAArB;AACA,aAAKZ,gBAAL,GAAwBW,QAAQ,CAACb,IAAT,CAAce,aAAd,CAAxB;AACAC,eAAO,CAACC,GAAR,CAAYJ,QAAQ,CAACb,IAArB;AACAgB,eAAO,CAACC,GAAR,CAAY,KAAKd,aAAjB;AACAa,eAAO,CAACC,GAAR,CAAY,KAAKf,gBAAjB;AACD,OATH;AAUA,aAAO,gCAAP;AACD,KAbM;;AAcPgB,sBAAkB,CAACC,KAAD,EAAQ;AACxBH,aAAO,CAACC,GAAR,CAAY,KAAKd,aAAjB;AACAa,aAAO,CAACC,GAAR,CAAY,KAAKf,gBAAjB;AACA,WAAKE,KAAL,GAAa,KAAKD,aAAL,CAAmBgB,KAAnB,EAA0Bf,KAAvC;AACA,WAAKC,IAAL,GAAY,KAAKF,aAAL,CAAmBgB,KAAnB,EAA0Bd,IAAtC;AACA,WAAKC,UAAL,GAAkB,KAAKH,aAAL,CAAmBgB,KAAnB,EAA0Bb,UAA5C;AACA,WAAKC,KAAL,GAAa,QAAb;;AACA,UAAI,KAAKA,KAAL,KAAe,QAAnB,EAA6B;AAC3B,aAAKC,MAAL,GAAc,YAAd;AACF,OAFA,MAEO;AACL,aAAKA,MAAL,GAAc,UAAd;AACF;AACD,KA1BM;;AA2BPY,cAAU,GAAG;AACX,YAAMC,UAAS,GAAI,YAAY;AAC7B,eAAO,IAAIC,OAAJ,CAAY,UAAUC,OAAV,EAAmB;AACpC,gBAAMhB,KAAI,GAAI,KAAKG,kBAAL,EAAd;AACAa,iBAAO,CAAChB,KAAD,CAAP;AACD,SAHM,CAAP;AAID,OALD;;AAMAc,gBAAU,GACPT,IADH,CACSL,KAAD,IAAW;AACfS,eAAO,CAACC,GAAR,CAAYV,KAAZ;AACA,aAAKW,kBAAL,CAAwB,CAAxB;AACD,OAJH;AAKD;;AAvCM,GAfI;;AAwDbM,OAAI,GAAK;AACP3B,aAAS,CAAC,MAAM;AACdmB,aAAO,CAACC,GAAR,CAAY,iCAAZ;AACD,KAFQ,CAAT;AAGF;;AA5Da,CAAf","names":["axios","require","default","onMounted","ACTIVITY_INFO_URL","name","data","user_id","ACTIVITY_ID_LIST","ACTIVITY_DATA","title","time","quota_left","state","action","methods","loadActivityRecord","post","then","response","DATA_INDEX","ID_LIST_INDEX","console","log","renderActivityCard","index","renderPage","myPromise1","Promise","resolve","setup"],"sourceRoot":"","sources":["D:\\MySQL\\pickup\\client\\src\\views\\ActivityListView.vue"],"sourcesContent":["<template>\n<div>\n  <div class=\"home mt-3\">\n    <h1> My Activity List</h1>\n  </div>\n\n  <div class=\"container mt-3\" style=\"align: center;\">\n    <div class=\"card\">\n      <div class=\"row\">\n        <div class=\"col\">\n          <h3>Title</h3>\n        </div>\n        <div class=\"col\">\n          <h3>Time</h3>\n        </div>\n        <div class=\"col\">\n          <h3>Remaining Quota</h3>\n        </div>\n        <div class=\"col\">\n          <h3>Stauts</h3>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"card mt-2\">\n      <div class=\"row\">\n        <div class=\"col\">\n          <h4>{{ title }}</h4>\n        </div>\n        <div class=\"col\">\n          <h4>{{ time }}</h4>\n        </div>\n        <div class=\"col\">\n          <h4>{{ quota_left }}</h4>\n        </div>\n        <div class=\"col\">\n          <div class=\"dropdown\">\n            <button class=\"btn btn-success dropdown-toggle save_button\"\n            type=\"button\" id=\"dropdownMenuButton\"\n            data-bs-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n              {{ state }}\n            </button>\n            <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\n              <a class=\"dropdown-item\" href=\"http://localhost:8080/#/activityManagement\">Detail</a>\n              <a class=\"dropdown-item\">{{ action }}</a>\n              <a class=\"dropdown-item\">Delete</a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"card mt-2\">\n      <div class=\"row\">\n        <div class=\"col\">\n          <h4>Running</h4>\n        </div>\n        <div class=\"col\">\n          <h4>2022/4/10 19:00</h4>\n        </div>\n        <div class=\"col\">\n          <h4>3</h4>\n        </div>\n        <div class=\"col\">\n          <div class=\"dropdown\">\n            <button class=\"btn btn-secondary dropdown-toggle save_button\"\n            type=\"button\" id=\"dropdownMenuButton\"\n            data-bs-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n              INACTIVE\n            </button>\n            <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\n              <a class=\"dropdown-item\" href=\"http://localhost:8080/#/activityManagement\">Detail</a>\n              <a class=\"dropdown-item\">Activate</a>\n              <a class=\"dropdown-item\">Delete</a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nconst axios = require('axios').default;\nimport { onMounted } from 'vue';\n\nconst ACTIVITY_INFO_URL = 'http://localhost:4000/getActivityInfo';\n\nexport default {\n  name: 'ActivityList',\n  data() {\n    return {\n      user_id: 8,\n      ACTIVITY_ID_LIST: null,\n      // Stores the package sent by the server (all the activity information of a user)\n      ACTIVITY_DATA: null,\n      title: null,\n      time: null,\n      quota_left: null,\n      state: null,\n      action: null,\n    };\n  },\n  methods: {\n    loadActivityRecord() {\n      axios.post(ACTIVITY_INFO_URL, { user_id: this.user_id })\n        .then((response) => {\n          const DATA_INDEX = 1;\n          const ID_LIST_INDEX = 0;\n          this.ACTIVITY_DATA = response.data[DATA_INDEX];\n          this.ACTIVITY_ID_LIST = response.data[ID_LIST_INDEX];\n          console.log(response.data);\n          console.log(this.ACTIVITY_DATA);\n          console.log(this.ACTIVITY_ID_LIST);\n        });\n      return 'FINISH LOADING ACTIVITY RECORD';\n    },\n    renderActivityCard(index) {\n      console.log(this.ACTIVITY_DATA);\n      console.log(this.ACTIVITY_ID_LIST);\n      this.title = this.ACTIVITY_DATA[index].title;\n      this.time = this.ACTIVITY_DATA[index].time;\n      this.quota_left = this.ACTIVITY_DATA[index].quota_left;\n      this.state = 'ACTIVE';\n      if (this.state === 'ACTIVE') {\n        this.action = 'Deactivate';\n      } else {\n        this.action = 'Activate';\n      }\n    },\n    renderPage() {\n      const myPromise1 = function () {\n        return new Promise(function (resolve) {\n          const state = this.loadActivityRecord();\n          resolve(state);\n        });\n      };\n      myPromise1()\n        .then((state) => {\n          console.log(state);\n          this.renderActivityCard(0);\n        });\n    },\n  },\n  setup () {\n    onMounted(() => {\n      console.log('mounted in the composition api!')\n    })\n  }\n};\n</script>\n\n<style>\n.save_button {\n  min-width: 110px;\n  max-width: 110px;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}