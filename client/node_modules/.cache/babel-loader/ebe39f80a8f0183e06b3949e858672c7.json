{"ast":null,"code":"import MemberList from './MemberList.vue';\nexport default {\n  /** Manager Functionality\r\n   * *Change manager: OK\r\n   * *Quit from the activity : OK\r\n   * *Terminate the activity: OK\r\n   * *Delete member : OK\r\n   * *Activate activity\r\n   * *Deactivate activity\r\n   * *Go back to activity list page: OK\r\n   */\n\n  /** Member Functionality\r\n   * *Quit from the activity: OK\r\n   * *Go back to activity list page: OK\r\n   */\n  components: {\n    'member-list': MemberList\n  },\n  props: {\n    title: {\n      type: String,\n      required: true\n    },\n    time: {\n      type: String,\n      required: true\n    },\n    quota_left: {\n      type: Number,\n      required: true\n    },\n    location: {\n      type: String,\n      required: true\n    },\n    type: {\n      type: String,\n      required: true\n    },\n    max_capacity: {\n      type: Number,\n      required: true\n    },\n    description: {\n      type: String,\n      required: true\n    }\n  },\n  inject: [// Data\n  'userId', 'userRole', 'activityInfo', // Methods\n  'deleteMember', 'terminateActivity'],\n  computed: {\n    /**\r\n     * @description\r\n     * Return the activity data, since loading takes time, we need to use a dummy data to prevent\r\n     * the error of accessing undefined attributes\r\n     */\n    activityData() {\n      if (this.activityInfo.length === 1) {\n        return this.activityInfo[0];\n      }\n\n      return this.activityInfo[1];\n    },\n\n    /**\r\n     * @description\r\n     * Show the terminate button if the user is the manager\r\n     */\n    showTerminate() {\n      return this.userRole[0] === 'MANAGER';\n    }\n\n  },\n  methods: {\n    /**\r\n     * @description\r\n     * Navigate back to the activity list page of the user\r\n     */\n    toActivityList() {\n      // eslint-disable-next-line\n      const targetPath = '/activityList/user_id=' + this.userId;\n      this.$router.push(targetPath);\n    },\n\n    /**\r\n     * @description\r\n     * Quit from the activity\r\n     */\n    quitActivity() {\n      // Check whether the manager is the user\n      if (this.userRole[0] === 'MANAGER') {\n        alert('Set another member as Manager for this activity before yuo quit. Or if you want to terminate the activity, press the \"Terminate\" button');\n      } else {\n        // eslint-disable-next-line\n        if (confirm('Are you sure that you want to quit this activity?')) {\n          this.deletMember(this.userId);\n        }\n      }\n    },\n\n    /**\r\n     * @description\r\n     * Terminate the activity\r\n     */\n    terminate() {\n      // eslint-disable-next-line\n      if (confirm('Are you sure that you want to terminate this activity?')) {\n        this.terminateActivity();\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA2CA,OAAOA,UAAP,MAAuB,kBAAvB;AAEA,eAAe;AACb;;;;;;;;;;AASA;;;;AAIAC,YAAU,EAAE;AACV,mBAAeD;AADL,GAdC;AAiBbE,OAAK,EAAE;AACLC,SAAK,EAAE;AAAEC,UAAI,EAAEC,MAAR;AAAgBC,cAAQ,EAAE;AAA1B,KADF;AAELC,QAAI,EAAE;AAAEH,UAAI,EAAEC,MAAR;AAAgBC,cAAQ,EAAE;AAA1B,KAFD;AAGLE,cAAU,EAAE;AAAEJ,UAAI,EAAEK,MAAR;AAAgBH,cAAQ,EAAE;AAA1B,KAHP;AAILI,YAAQ,EAAE;AAAEN,UAAI,EAAEC,MAAR;AAAgBC,cAAQ,EAAE;AAA1B,KAJL;AAKLF,QAAI,EAAE;AAAEA,UAAI,EAAEC,MAAR;AAAgBC,cAAQ,EAAE;AAA1B,KALD;AAMLK,gBAAY,EAAE;AAAEP,UAAI,EAAEK,MAAR;AAAgBH,cAAQ,EAAE;AAA1B,KANT;AAOLM,eAAW,EAAE;AAAER,UAAI,EAAEC,MAAR;AAAgBC,cAAQ,EAAE;AAA1B;AAPR,GAjBM;AA0BbO,QAAM,EAAE,CACN;AACA,UAFM,EAGN,UAHM,EAIN,cAJM,EAKN;AACA,gBANM,EAON,mBAPM,CA1BK;AAmCbC,UAAQ,EAAE;AACR;;;;;AAKAC,gBAAY,GAAG;AACb,UAAI,KAAKC,YAAL,CAAkBC,MAAlB,KAA6B,CAAjC,EAAoC;AAClC,eAAO,KAAKD,YAAL,CAAkB,CAAlB,CAAP;AACF;;AACA,aAAO,KAAKA,YAAL,CAAkB,CAAlB,CAAP;AACD,KAXO;;AAYR;;;;AAIAE,iBAAa,GAAG;AACd,aAAO,KAAKC,QAAL,CAAc,CAAd,MAAqB,SAA5B;AACD;;AAlBO,GAnCG;AAuDbC,SAAO,EAAE;AACP;;;;AAIAC,kBAAc,GAAG;AACf;AACA,YAAMC,UAAS,GAAI,2BAA2B,KAAKC,MAAnD;AACA,WAAKC,OAAL,CAAaC,IAAb,CAAkBH,UAAlB;AACD,KATM;;AAUP;;;;AAIAI,gBAAY,GAAG;AACb;AACA,UAAI,KAAKP,QAAL,CAAc,CAAd,MAAqB,SAAzB,EAAoC;AAClCQ,aAAK,CACH,yIADG,CAAL;AAGF,OAJA,MAIO;AACL;AACA,YAAIC,OAAO,CAAC,mDAAD,CAAX,EAAkE;AAChE,eAAKC,WAAL,CAAiB,KAAKN,MAAtB;AACF;AACF;AACD,KA1BM;;AA2BP;;;;AAIAO,aAAS,GAAG;AACV;AACA,UAAIF,OAAO,CAAC,wDAAD,CAAX,EAAuE;AACrE,aAAKG,iBAAL;AACF;AACD;;AApCM;AAvDI,CAAf","names":["MemberList","components","props","title","type","String","required","time","quota_left","Number","location","max_capacity","description","inject","computed","activityData","activityInfo","length","showTerminate","userRole","methods","toActivityList","targetPath","userId","$router","push","quitActivity","alert","confirm","deletMember","terminate","terminateActivity"],"sourceRoot":"","sources":["D:\\MySQL\\pickup\\client\\src\\components\\ActivityManagement\\ActivityManagementConsole.vue"],"sourcesContent":["<template>\r\n  <section>\r\n    <h1>Activity Management Console</h1>\r\n    <div>\r\n      <h1>Title</h1>\r\n      <P>{{ title }}</P>\r\n    </div>\r\n    <div>\r\n      <h1>Time</h1>\r\n      <p>{{ time }}</p>\r\n    </div>\r\n    <div>\r\n      <h1>Location</h1>\r\n      <p>{{ location }}</p>\r\n    </div>\r\n    <div>\r\n      <h1>Type</h1>\r\n      <p>{{ type }}</p>\r\n    </div>\r\n    <div>\r\n      <h1>Max Capacity</h1>\r\n      <p>{{ max_capacity }}</p>\r\n    </div>\r\n    <div>\r\n      <h1>Quota Left</h1>\r\n      <p>{{ quota_left }}</p>\r\n    </div>\r\n    <div>\r\n      <h1>Description</h1>\r\n      <p>{{ description }}</p>\r\n    </div>\r\n    <member-list></member-list>\r\n    <h1>Actions</h1>\r\n    <button class=\"btn btn-primary\" type=\"button\" @click=\"quitActivity\">Quit</button>\r\n    <button class=\"btn btn-primary\" type=\"button\" @click=\"toActivityList\">Back</button>\r\n    <div v-if=\"showTerminate\">\r\n      <button class=\"btn btn-danger\" type=\"button\" @click=\"terminate\">\r\n        Terminate\r\n      </button>\r\n    </div>\r\n  </section>\r\n</template>\r\n<script>\r\nimport MemberList from './MemberList.vue';\r\n\r\nexport default {\r\n  /** Manager Functionality\r\n   * *Change manager: OK\r\n   * *Quit from the activity : OK\r\n   * *Terminate the activity: OK\r\n   * *Delete member : OK\r\n   * *Activate activity\r\n   * *Deactivate activity\r\n   * *Go back to activity list page: OK\r\n   */\r\n  /** Member Functionality\r\n   * *Quit from the activity: OK\r\n   * *Go back to activity list page: OK\r\n   */\r\n  components: {\r\n    'member-list': MemberList,\r\n  },\r\n  props: {\r\n    title: { type: String, required: true },\r\n    time: { type: String, required: true },\r\n    quota_left: { type: Number, required: true },\r\n    location: { type: String, required: true },\r\n    type: { type: String, required: true },\r\n    max_capacity: { type: Number, required: true },\r\n    description: { type: String, required: true },\r\n  },\r\n  inject: [\r\n    // Data\r\n    'userId',\r\n    'userRole',\r\n    'activityInfo',\r\n    // Methods\r\n    'deleteMember',\r\n    'terminateActivity',\r\n  ],\r\n  computed: {\r\n    /**\r\n     * @description\r\n     * Return the activity data, since loading takes time, we need to use a dummy data to prevent\r\n     * the error of accessing undefined attributes\r\n     */\r\n    activityData() {\r\n      if (this.activityInfo.length === 1) {\r\n        return this.activityInfo[0];\r\n      }\r\n      return this.activityInfo[1];\r\n    },\r\n    /**\r\n     * @description\r\n     * Show the terminate button if the user is the manager\r\n     */\r\n    showTerminate() {\r\n      return this.userRole[0] === 'MANAGER';\r\n    },\r\n  },\r\n  methods: {\r\n    /**\r\n     * @description\r\n     * Navigate back to the activity list page of the user\r\n     */\r\n    toActivityList() {\r\n      // eslint-disable-next-line\r\n      const targetPath = '/activityList/user_id=' + this.userId;\r\n      this.$router.push(targetPath);\r\n    },\r\n    /**\r\n     * @description\r\n     * Quit from the activity\r\n     */\r\n    quitActivity() {\r\n      // Check whether the manager is the user\r\n      if (this.userRole[0] === 'MANAGER') {\r\n        alert(\r\n          'Set another member as Manager for this activity before yuo quit. Or if you want to terminate the activity, press the \"Terminate\" button',\r\n        );\r\n      } else {\r\n        // eslint-disable-next-line\r\n        if (confirm('Are you sure that you want to quit this activity?')) {\r\n          this.deletMember(this.userId);\r\n        }\r\n      }\r\n    },\r\n    /**\r\n     * @description\r\n     * Terminate the activity\r\n     */\r\n    terminate() {\r\n      // eslint-disable-next-line\r\n      if (confirm('Are you sure that you want to terminate this activity?')) {\r\n        this.terminateActivity();\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n"]},"metadata":{},"sourceType":"module"}