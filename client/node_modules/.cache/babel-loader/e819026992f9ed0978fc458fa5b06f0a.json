{"ast":null,"code":"import ActivityList from '../components/ActivityList/ActivityList.vue';\nimport ActivityListTitle from '../components/ActivityList/ActivityListTitle.vue';\n\nconst axios = require('axios').default;\n\nconst ACTIVITY_INFO_URL = 'http://localhost:4000/getActivityInfo';\nexport default {\n  components: {\n    'activity-list-title': ActivityListTitle,\n    'activity-list': ActivityList\n  },\n\n  data() {\n    return {\n      user_id: 8\n    };\n  },\n\n  provide() {\n    return {\n      ACTIVITY_ID_LIST: null,\n      // The list of activity id of a user\n      ACTIVITY_DATA: [{\n        activity_id: 1,\n        title: 'a',\n        time: '2021-08-09T21:00:20.000Z',\n        location: 'San Jose',\n        description: 'migration green Coves',\n        max_capacity: 7,\n        quota_left: 3,\n        type: 'GroupShoping',\n        heat: 88\n      }, {\n        activity_id: 4,\n        title: 'd',\n        time: '2021-04-29T12:46:20.000Z',\n        location: 'Tustin',\n        description: 'Checking Arkansas quantifying',\n        max_capacity: 7,\n        quota_left: 2,\n        type: 'Travel',\n        heat: 72\n      }] // Stores all the activity information of a user\n\n    };\n  },\n\n  methods: {\n    /**\r\n     * @description\r\n     * Loads all the activity information of a user with given user_id\r\n     * Data is loaded into the local variable ACTIVITY_ID_LIST & ACTIVITY_DATA\r\n     * @var ID_LIST_INDEX @var DATA_INDEX\r\n     * Data package is sent in the form: {[ACTIVITY_ID_LIST],[ACTIVITY_DATA]}\r\n     * @param {*} callback\r\n     * This callback function is used to pass data from async function\r\n     */\n    loadActivityRecord(callback) {\n      axios.post(ACTIVITY_INFO_URL, {\n        user_id: this.user_id\n      }).then(response => {\n        const ID_LIST_INDEX = 0;\n        const DATA_INDEX = 1;\n        this.ACTIVITY_DATA = response.data[DATA_INDEX];\n        this.ACTIVITY_ID_LIST = response.data[ID_LIST_INDEX];\n        return callback();\n      });\n    },\n\n    /**\r\n     * @description\r\n     * Call functions to load data into local memory\r\n     * TODO We need to load data into the local memory FIRST and then render the page\r\n     */\n    renderPage() {\n      const self = this;\n\n      const myPromise1 = function () {\n        return new Promise(resolve => {\n          self.loadActivityRecord(() => {\n            resolve();\n          });\n        });\n      };\n\n      myPromise1().then(() => {\n        console.log(this.ACTIVITY_ID_LIST);\n        console.log(this.ACTIVITY_DATA);\n      });\n    }\n\n  },\n\n  // lIFE Cycle mounted, will be executed after app setup\n  mounted() {\n    this.renderPage();\n  }\n\n};","map":{"version":3,"mappings":"AAaA,OAAOA,YAAP,MAAyB,6CAAzB;AACA,OAAOC,iBAAP,MAA8B,kDAA9B;;AAEA,MAAMC,KAAI,GAAIC,OAAO,CAAC,OAAD,CAAP,CAAiBC,OAA/B;;AAEA,MAAMC,iBAAgB,GAAI,uCAA1B;AAEA,eAAe;AACbC,YAAU,EAAE;AACV,2BAAuBL,iBADb;AAEV,qBAAiBD;AAFP,GADC;;AAKbO,MAAI,GAAG;AACL,WAAO;AACLC,aAAO,EAAE;AADJ,KAAP;AAGD,GATY;;AAUbC,SAAO,GAAG;AACR,WAAO;AACLC,sBAAgB,EAAE,IADb;AACmB;AACxBC,mBAAa,EAAE,CACb;AACEC,mBAAW,EAAE,CADf;AAEEC,aAAK,EAAE,GAFT;AAGEC,YAAI,EAAE,0BAHR;AAIEC,gBAAQ,EAAE,UAJZ;AAKEC,mBAAW,EAAE,uBALf;AAMEC,oBAAY,EAAE,CANhB;AAOEC,kBAAU,EAAE,CAPd;AAQEC,YAAI,EAAE,cARR;AASEC,YAAI,EAAE;AATR,OADa,EAYb;AACER,mBAAW,EAAE,CADf;AAEEC,aAAK,EAAE,GAFT;AAGEC,YAAI,EAAE,0BAHR;AAIEC,gBAAQ,EAAE,QAJZ;AAKEC,mBAAW,EAAE,+BALf;AAMEC,oBAAY,EAAE,CANhB;AAOEC,kBAAU,EAAE,CAPd;AAQEC,YAAI,EAAE,QARR;AASEC,YAAI,EAAE;AATR,OAZa,CAFV,CAyBF;;AAzBE,KAAP;AA2BD,GAtCY;;AAuCbC,SAAO,EAAE;AACP;;;;;;;;;AASAC,sBAAkB,CAACC,QAAD,EAAW;AAC3BrB,WAAK,CAACsB,IAAN,CAAWnB,iBAAX,EAA8B;AAAEG,eAAO,EAAE,KAAKA;AAAhB,OAA9B,EACGiB,IADH,CACSC,QAAD,IAAc;AAClB,cAAMC,aAAY,GAAI,CAAtB;AACA,cAAMC,UAAS,GAAI,CAAnB;AACA,aAAKjB,aAAL,GAAqBe,QAAQ,CAACnB,IAAT,CAAcqB,UAAd,CAArB;AACA,aAAKlB,gBAAL,GAAwBgB,QAAQ,CAACnB,IAAT,CAAcoB,aAAd,CAAxB;AACA,eAAOJ,QAAQ,EAAf;AACD,OAPH;AAQD,KAnBM;;AAoBP;;;;;AAKAM,cAAU,GAAG;AACX,YAAMC,IAAG,GAAI,IAAb;;AACA,YAAMC,UAAS,GAAI,YAAY;AAC7B,eAAO,IAAIC,OAAJ,CAAaC,OAAD,IAAa;AAC9BH,cAAI,CAACR,kBAAL,CAAwB,MAAM;AAC5BW,mBAAO;AACR,WAFD;AAGD,SAJM,CAAP;AAKD,OAND;;AAOAF,gBAAU,GACPN,IADH,CACQ,MAAM;AACVS,eAAO,CAACC,GAAR,CAAY,KAAKzB,gBAAjB;AACAwB,eAAO,CAACC,GAAR,CAAY,KAAKxB,aAAjB;AACD,OAJH;AAKD;;AAvCM,GAvCI;;AAgFb;AACAyB,SAAO,GAAG;AACR,SAAKP,UAAL;AACD;;AAnFY,CAAf","names":["ActivityList","ActivityListTitle","axios","require","default","ACTIVITY_INFO_URL","components","data","user_id","provide","ACTIVITY_ID_LIST","ACTIVITY_DATA","activity_id","title","time","location","description","max_capacity","quota_left","type","heat","methods","loadActivityRecord","callback","post","then","response","ID_LIST_INDEX","DATA_INDEX","renderPage","self","myPromise1","Promise","resolve","console","log","mounted"],"sourceRoot":"","sources":["D:\\MySQL\\pickup\\client\\src\\views\\ActivityListView.vue"],"sourcesContent":["<template>\r\n<div>\r\n  <div class=\"home mt-3\">\r\n    <h1> My Activity List</h1>\r\n  </div>\r\n  <div class=\"container mt-3\" style=\"align: center;\">\r\n    <activity-list-title></activity-list-title>\r\n    <activity-list></activity-list>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport ActivityList from '../components/ActivityList/ActivityList.vue';\r\nimport ActivityListTitle from '../components/ActivityList/ActivityListTitle.vue';\r\n\r\nconst axios = require('axios').default;\r\n\r\nconst ACTIVITY_INFO_URL = 'http://localhost:4000/getActivityInfo';\r\n\r\nexport default {\r\n  components: {\r\n    'activity-list-title': ActivityListTitle,\r\n    'activity-list': ActivityList,\r\n  },\r\n  data() {\r\n    return {\r\n      user_id: 8,\r\n    };\r\n  },\r\n  provide() {\r\n    return {\r\n      ACTIVITY_ID_LIST: null, // The list of activity id of a user\r\n      ACTIVITY_DATA: [\r\n        {\r\n          activity_id: 1,\r\n          title: 'a',\r\n          time: '2021-08-09T21:00:20.000Z',\r\n          location: 'San Jose',\r\n          description: 'migration green Coves',\r\n          max_capacity: 7,\r\n          quota_left: 3,\r\n          type: 'GroupShoping',\r\n          heat: 88,\r\n        },\r\n        {\r\n          activity_id: 4,\r\n          title: 'd',\r\n          time: '2021-04-29T12:46:20.000Z',\r\n          location: 'Tustin',\r\n          description: 'Checking Arkansas quantifying',\r\n          max_capacity: 7,\r\n          quota_left: 2,\r\n          type: 'Travel',\r\n          heat: 72,\r\n        },\r\n      ], // Stores all the activity information of a user\r\n    };\r\n  },\r\n  methods: {\r\n    /**\r\n     * @description\r\n     * Loads all the activity information of a user with given user_id\r\n     * Data is loaded into the local variable ACTIVITY_ID_LIST & ACTIVITY_DATA\r\n     * @var ID_LIST_INDEX @var DATA_INDEX\r\n     * Data package is sent in the form: {[ACTIVITY_ID_LIST],[ACTIVITY_DATA]}\r\n     * @param {*} callback\r\n     * This callback function is used to pass data from async function\r\n     */\r\n    loadActivityRecord(callback) {\r\n      axios.post(ACTIVITY_INFO_URL, { user_id: this.user_id })\r\n        .then((response) => {\r\n          const ID_LIST_INDEX = 0;\r\n          const DATA_INDEX = 1;\r\n          this.ACTIVITY_DATA = response.data[DATA_INDEX];\r\n          this.ACTIVITY_ID_LIST = response.data[ID_LIST_INDEX];\r\n          return callback();\r\n        });\r\n    },\r\n    /**\r\n     * @description\r\n     * Call functions to load data into local memory\r\n     * TODO We need to load data into the local memory FIRST and then render the page\r\n     */\r\n    renderPage() {\r\n      const self = this;\r\n      const myPromise1 = function () {\r\n        return new Promise((resolve) => {\r\n          self.loadActivityRecord(() => {\r\n            resolve();\r\n          });\r\n        });\r\n      };\r\n      myPromise1()\r\n        .then(() => {\r\n          console.log(this.ACTIVITY_ID_LIST);\r\n          console.log(this.ACTIVITY_DATA);\r\n        });\r\n    },\r\n  },\r\n  // lIFE Cycle mounted, will be executed after app setup\r\n  mounted() {\r\n    this.renderPage();\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.save_button {\r\n  min-width: 110px;\r\n  max-width: 110px;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}